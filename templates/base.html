<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}WebMusic{% endblock %}</title>
    <link rel="stylesheet" href="{{ url_for_with_base('static', filename='css/style.css') }}">
</head>
<body>
    <header class="player-header">
        <div class="now-playing">
            <div id="album-art-mini" class="album-art-mini hidden">
                <img id="album-art-img" src="" alt="">
            </div>
            <div class="track-info">
                <span class="music-icon" id="music-icon">♪</span>
                <div class="track-details">
                    <span id="current-track">No track playing</span>
                    <span id="current-album" class="current-album hidden"></span>
                </div>
            </div>
        </div>
        <div class="player-controls">
            <button id="prev-track" class="control-button hidden">⏮</button>
            <button id="play-pause" class="control-button">⏸</button>
            <button id="next-track" class="control-button hidden">⏭</button>
        </div>
        
        <div class="playback-bar">
            <span id="current-time">0:00</span>
            <div id="progress-container" class="progress-container">
                <div id="progress-bar" class="progress-bar"></div>
                <div id="progress-handle" class="progress-handle"></div>
            </div>
            <span id="duration">0:00</span>
        </div>
    </header>
    
    <div class="main-container">
        <nav class="sidebar">
            <ul class="nav-menu">
                <li><a href="{{ url_for_with_base('albums') }}">Albums</a></li>
                <li><a href="{{ url_for_with_base('artists') }}">Artists</a></li>
            </ul>
        </nav>
        
        <main class="content">
            {% block content %}{% endblock %}
        </main>
    </div>
    
    <audio id="audio-player" preload="none"></audio>
    
    <script>
        // Pass base path to JavaScript
        window.BASE_PATH = '{{ config.BASE_PATH }}';
    </script>
    <script src="{{ url_for_with_base('static', filename='js/player.js') }}"></script>
</body>
</html>
